import{l as e,m as t,h as s,o as a,c as l,w as o,a as r,n as c,k as n,f as u,t as i,p as d,i as g,g as _,d as p}from"./index-7259cb7d.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";import{r as f}from"./uni-app.es.58690612.js";const m=h({name:"u-line-progress",mixins:[t,s,{props:{activeColor:{type:String,default:e.lineProgress.activeColor},inactiveColor:{type:String,default:e.lineProgress.color},percentage:{type:[String,Number],default:e.lineProgress.inactiveColor},showText:{type:Boolean,default:e.lineProgress.showText},height:{type:[String,Number],default:e.lineProgress.height}}}],data:()=>({lineWidth:0}),watch:{percentage(e){this.resizeProgressWidth()}},computed:{progressStyle(){let e={};return e.width=this.lineWidth,e.backgroundColor=this.activeColor,e.height=uni.$u.addUnit(this.height),e},innserPercentage(){return uni.$u.range(0,100,this.percentage)}},mounted(){this.init()},methods:{init(){uni.$u.sleep(20).then((()=>{this.resizeProgressWidth()}))},getProgressWidth(){return this.$uGetRect(".u-line-progress__background")},resizeProgressWidth(){this.getProgressWidth().then((e=>{const{width:t}=e;this.lineWidth=t*this.innserPercentage/100+"px"}))}}},[["render",function(e,t,s,p,h,f){const m=g,b=_;return a(),l(m,{class:"u-line-progress",style:c([e.$u.addStyle(e.customStyle)])},{default:o((()=>[r(m,{class:"u-line-progress__background",ref:"u-line-progress__background",style:c([{backgroundColor:e.inactiveColor,height:e.$u.addUnit(e.height)}])},null,8,["style"]),r(m,{class:"u-line-progress__line",style:c([f.progressStyle])},{default:o((()=>[n(e.$slots,"default",{},(()=>[e.showText&&e.percentage>=10?(a(),l(b,{key:0,class:"u-line-progress__text"},{default:o((()=>[u(i(f.innserPercentage+"%"),1)])),_:1})):d("",!0)]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-55b663b2"]]);const b=h({data:()=>({androidNvue:!1,percentage1:30,percentage2:40,percentage3:50,percentage4:60,percentage5:70,percentage6:50}),onLoad(){uni.$u.sleep(2500).then((()=>{this.percentage1=120}))},methods:{computedWidth(e){this.percentage6="plus"===e?uni.$u.range(0,100,this.percentage6+10):uni.$u.range(0,100,this.percentage6-10)}}},[["render",function(e,t,s,c,n,h){const b=_,k=f(p("u-line-progress"),m),v=g;return a(),l(v,{class:"u-page"},{default:o((()=>[r(v,{class:"u-demo-block"},{default:o((()=>[r(b,{class:"u-demo-block__title"},{default:o((()=>[u("基础功能")])),_:1}),r(v,{class:"u-demo-block__content"},{default:o((()=>[r(k,{percentage:n.percentage1},null,8,["percentage"])])),_:1})])),_:1}),r(v,{class:"u-demo-block"},{default:o((()=>[r(b,{class:"u-demo-block__title"},{default:o((()=>[u("不显示百分比")])),_:1}),r(v,{class:"u-demo-block__content"},{default:o((()=>[r(k,{showText:!1,percentage:n.percentage2},null,8,["percentage"])])),_:1})])),_:1}),r(v,{class:"u-demo-block"},{default:o((()=>[r(b,{class:"u-demo-block__title"},{default:o((()=>[u("自定义高度")])),_:1}),r(v,{class:"u-demo-block__content"},{default:o((()=>[r(k,{height:"8",showText:!1,percentage:n.percentage3},null,8,["percentage"])])),_:1})])),_:1}),r(v,{class:"u-demo-block"},{default:o((()=>[r(b,{class:"u-demo-block__title"},{default:o((()=>[u("自定义颜色")])),_:1}),r(v,{class:"u-demo-block__content"},{default:o((()=>[r(k,{height:"8",showText:!1,percentage:n.percentage4,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},null,8,["percentage"])])),_:1})])),_:1}),n.androidNvue?d("",!0):(a(),l(v,{key:0,class:"u-demo-block"},{default:o((()=>[r(b,{class:"u-demo-block__title"},{default:o((()=>[u("自定义样式(不支持安卓环境的nvue)")])),_:1}),r(v,{class:"u-demo-block__content"},{default:o((()=>[r(k,{height:"8",showText:!1,percentage:n.percentage5,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},{default:o((()=>[r(b,{class:"u-percentage-slot"},{default:o((()=>[u(i(n.percentage4)+"%",1)])),_:1})])),_:1},8,["percentage"])])),_:1})])),_:1})),r(v,{class:"u-demo-block"},{default:o((()=>[r(b,{class:"u-demo-block__title"},{default:o((()=>[u("手动加减")])),_:1}),r(v,{class:"u-demo-block__content"},{default:o((()=>[r(k,{height:"8",showText:!1,percentage:n.percentage6,activeColor:"#3c9cff",inactiveColor:"#f3f4f6"},null,8,["percentage"]),r(v,{class:"button-group"},{default:o((()=>[r(v,{class:"button-group__circle","hover-class":"u-hover-class",onClick:t[0]||(t[0]=e=>h.computedWidth("minus"))},{default:o((()=>[r(b,{class:"button-group__circle__text"},{default:o((()=>[u("减少")])),_:1})])),_:1}),r(v,{class:"button-group__circle","hover-class":"u-hover-class",onClick:t[1]||(t[1]=e=>h.computedWidth("plus"))},{default:o((()=>[r(b,{class:"button-group__circle__text"},{default:o((()=>[u("增加")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-45295e90"]]);export{b as default};
