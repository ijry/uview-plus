import{l as t,m as e,h as o,d as l,o as i,c as n,w as c,k as a,a as s,p as u,b as r,F as d,r as m,n as _,f,t as p,i as k,g as y,S as b,v as h}from"./index-c9cf8d84.js";import{_ as x}from"./u-icon.fe05ba1a.js";import{r as g}from"./uni-app.es.6a8abedf.js";import{_ as S}from"./_plugin-vue_export-helper.1b428a4d.js";const C=S({mixins:[e,o,{props:{text:{type:[Array],default:t.columnNotice.text},icon:{type:String,default:t.columnNotice.icon},mode:{type:String,default:t.columnNotice.mode},color:{type:String,default:t.columnNotice.color},bgColor:{type:String,default:t.columnNotice.bgColor},fontSize:{type:[String,Number],default:t.columnNotice.fontSize},speed:{type:[String,Number],default:t.columnNotice.speed},step:{type:Boolean,default:t.columnNotice.step},duration:{type:[String,Number],default:t.columnNotice.duration},disableTouch:{type:Boolean,default:t.columnNotice.disableTouch}}}],watch:{text:{immediate:!0,handler(t,e){uni.$u.test.array(t)||uni.$u.error("noticebar组件direction为column时，要求text参数为数组形式")}}},computed:{textStyle(){let t={};return t.color=this.color,t.fontSize=uni.$u.addUnit(this.fontSize),t},vertical(){return"horizontal"!=this.mode}},data:()=>({index:0}),methods:{noticeChange(t){this.index=t.detail.current},clickHandler(){this.$emit("click",this.index)},close(){this.$emit("close")}}},[["render",function(t,e,o,S,C,w){const N=g(l("u-icon"),x),z=k,$=y,v=b,B=h;return i(),n(z,{class:"u-notice",onClick:w.clickHandler},{default:c((()=>[a(t.$slots,"icon",{},(()=>[t.icon?(i(),n(z,{key:0,class:"u-notice__left-icon"},{default:c((()=>[s(N,{name:t.icon,color:t.color,size:"19"},null,8,["name","color"])])),_:1})):u("",!0)]),!0),s(B,{"disable-touch":t.disableTouch,vertical:!t.step,circular:"",interval:t.duration,autoplay:!0,class:"u-notice__swiper",onChange:w.noticeChange},{default:c((()=>[(i(!0),r(d,null,m(t.text,((t,e)=>(i(),n(v,{key:e,class:"u-notice__swiper__item"},{default:c((()=>[s($,{class:"u-notice__swiper__item__text u-line-1",style:_([w.textStyle])},{default:c((()=>[f(p(t),1)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["disable-touch","vertical","interval","onChange"]),["link","closable"].includes(t.mode)?(i(),n(z,{key:0,class:"u-notice__right-icon"},{default:c((()=>["link"===t.mode?(i(),n(N,{key:0,name:"arrow-right",size:17,color:t.color},null,8,["color"])):u("",!0),"closable"===t.mode?(i(),n(N,{key:1,name:"close",size:16,color:t.color,onClick:w.close},null,8,["color","onClick"])):u("",!0)])),_:1})):u("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-4c1f2f4b"]]);const w=S({name:"u-row-notice",mixins:[e,o,{props:{text:{type:String,default:t.rowNotice.text},icon:{type:String,default:t.rowNotice.icon},mode:{type:String,default:t.rowNotice.mode},color:{type:String,default:t.rowNotice.color},bgColor:{type:String,default:t.rowNotice.bgColor},fontSize:{type:[String,Number],default:t.rowNotice.fontSize},speed:{type:[String,Number],default:t.rowNotice.speed}}}],data:()=>({animationDuration:"0",animationPlayState:"paused",nvueInit:!0,show:!0}),watch:{text:{immediate:!0,handler(t,e){this.vue(),uni.$u.test.string(t)||uni.$u.error("noticebar组件direction为row时，要求text参数为字符串形式")}},fontSize(){this.vue()},speed(){this.vue()}},computed:{textStyle(){let t={};return t.color=this.color,t.fontSize=uni.$u.addUnit(this.fontSize),t},animationStyle(){let t={};return t.animationDuration=this.animationDuration,t.animationPlayState=this.animationPlayState,t},innerText(){let t=[];const e=this.text.split("");for(let o=0;o<e.length;o+=20)t.push(e.slice(o,o+20).join(""));return t}},mounted(){this.init()},methods:{init(){this.vue(),uni.$u.test.string(this.text)||uni.$u.error("noticebar组件direction为row时，要求text参数为字符串形式")},async vue(){let t=0;await uni.$u.sleep(),t=(await this.$uGetRect(".u-notice__content__text")).width,(await this.$uGetRect(".u-notice__content")).width,this.animationDuration=t/uni.$u.getPx(this.speed)+"s",this.animationPlayState="paused",setTimeout((()=>{this.animationPlayState="running"}),10)},async nvue(){},loopAnimation(t,e){},getNvueRect(t){},clickHandler(t){this.$emit("click")},close(){this.$emit("close")}}},[["render",function(t,e,o,b,h,S){const C=g(l("u-icon"),x),w=k,N=y;return i(),n(w,{class:"u-notice",onClick:S.clickHandler},{default:c((()=>[a(t.$slots,"icon",{},(()=>[t.icon?(i(),n(w,{key:0,class:"u-notice__left-icon"},{default:c((()=>[s(C,{name:t.icon,color:t.color,size:"19"},null,8,["name","color"])])),_:1})):u("",!0)]),!0),s(w,{class:"u-notice__content",ref:"u-notice__content"},{default:c((()=>[s(w,{ref:"u-notice__content__text",class:"u-notice__content__text",style:_([S.animationStyle])},{default:c((()=>[(i(!0),r(d,null,m(S.innerText,((t,e)=>(i(),n(N,{key:e,style:_([S.textStyle])},{default:c((()=>[f(p(t),1)])),_:2},1032,["style"])))),128))])),_:1},8,["style"])])),_:1},512),["link","closable"].includes(t.mode)?(i(),n(w,{key:0,class:"u-notice__right-icon"},{default:c((()=>["link"===t.mode?(i(),n(C,{key:0,name:"arrow-right",size:17,color:t.color},null,8,["color"])):u("",!0),"closable"===t.mode?(i(),n(C,{key:1,onClick:S.close,name:"close",size:16,color:t.color},null,8,["onClick","color"])):u("",!0)])),_:1})):u("",!0)])),_:3},8,["onClick"])}],["__scopeId","data-v-385a1828"]]);const N=S({name:"u-notice-bar",mixins:[e,o,{props:{text:{type:[Array,String],default:t.noticeBar.text},direction:{type:String,default:t.noticeBar.direction},step:{type:Boolean,default:t.noticeBar.step},icon:{type:String,default:t.noticeBar.icon},mode:{type:String,default:t.noticeBar.mode},color:{type:String,default:t.noticeBar.color},bgColor:{type:String,default:t.noticeBar.bgColor},speed:{type:[String,Number],default:t.noticeBar.speed},fontSize:{type:[String,Number],default:t.noticeBar.fontSize},duration:{type:[String,Number],default:t.noticeBar.duration},disableTouch:{type:Boolean,default:t.noticeBar.disableTouch},url:{type:String,default:t.noticeBar.url},linkType:{type:String,default:t.noticeBar.linkType}}}],data:()=>({show:!0}),methods:{click(t){this.$emit("click",t),this.url&&this.linkType&&this.openPage()},close(){this.show=!1,this.$emit("close")}}},[["render",function(t,e,o,a,s,r){const d=g(l("u-column-notice"),C),m=g(l("u-row-notice"),w),f=k;return s.show?(i(),n(f,{key:0,class:"u-notice-bar",style:_([{backgroundColor:t.bgColor},t.$u.addStyle(t.customStyle)])},{default:c((()=>["column"===t.direction||"row"===t.direction&&t.step?(i(),n(d,{key:0,color:t.color,bgColor:t.bgColor,text:t.text,mode:t.mode,step:t.step,icon:t.icon,"disable-touch":t.disableTouch,fontSize:t.fontSize,duration:t.duration,onClose:r.close,onClick:r.click},null,8,["color","bgColor","text","mode","step","icon","disable-touch","fontSize","duration","onClose","onClick"])):(i(),n(m,{key:1,color:t.color,bgColor:t.bgColor,text:t.text,mode:t.mode,fontSize:t.fontSize,speed:t.speed,url:t.url,linkType:t.linkType,icon:t.icon,onClose:r.close,onClick:r.click},null,8,["color","bgColor","text","mode","fontSize","speed","url","linkType","icon","onClose","onClick"]))])),_:1},8,["style"])):u("",!0)}],["__scopeId","data-v-abff91ff"]]);const z=S({data:()=>({text1:"uView UI众多组件覆盖开发过程的各个需求，组件功能丰富，多端兼容。让您快速集成，开箱即用",text2:"uView UI众多的贴心小工具，是您开发过程中召之即来的利器，让您飞镖在手，百步穿杨",text3:"uView UI收集众多的常用页面和布局，减少开发者的重复工作，让您专注逻辑，事半功倍",text4:["寒雨连江夜入吴","平明送客楚山孤","洛阳亲友如相问","一片冰心在玉壶"],text5:"涵盖uniapp各个方面，给开发者方向指导和设计理念，让您茅塞顿开，一马平川"}),onLoad(){},methods:{click(t){console.log(t)}}},[["render",function(t,e,o,a,u,r){const d=y,m=g(l("u-notice-bar"),N),_=k;return i(),n(_,{class:"u-page"},{default:c((()=>[s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("基础功能")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text1},null,8,["text"])])),_:1})])),_:1}),s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("可关闭")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text5,mode:"closable"},null,8,["text"])])),_:1})])),_:1}),s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("自定义横向滚动速度")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text2,speed:"250",mode:"closable"},null,8,["text"])])),_:1})])),_:1}),s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("可跳转(点击右箭头)")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text3,mode:"link",url:"/pages/componentsB/tag/tag"},null,8,["text"])])),_:1})])),_:1}),s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("横向步进滚动")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text4,step:!0,onClick:r.click},null,8,["text","onClick"])])),_:1})])),_:1}),s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("纵向滚动")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text4,direction:"column",onClick:r.click},null,8,["text","onClick"])])),_:1})])),_:1}),s(_,{class:"u-demo-block"},{default:c((()=>[s(d,{class:"u-demo-block__title"},{default:c((()=>[f("自定义样式")])),_:1}),s(_,{class:"u-demo-block__content"},{default:c((()=>[s(m,{text:u.text1,color:"#ffffff",bgColor:"#f56c6c"},null,8,["text"])])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-f5df324b"]]);export{z as default};
