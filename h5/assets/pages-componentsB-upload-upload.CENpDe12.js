import{_ as e,c as t,w as l,i as a,r as s,an as i,a as o,o as u,g as d,m as f,n,k as c}from"./index-PADVFfso.js";const m=e({data:()=>({fileList1:[],fileList2:[],fileList3:[{url:"https://cdn.uviewui.com/uview/swiper/1.jpg"}],fileList4:[{url:"https://cdn.uviewui.com/uview/swiper/1.jpg"},{url:"https://cdn.uviewui.com/uview/swiper/1.jpg"}],fileList5:[],fileList6:[],fileList7:[]}),onLoad(){},methods:{deletePic(e){this[`fileList${e.name}`].splice(e.index,1)},beforeRead(){console.log("beforeRead")},async afterRead(e){let t=[].concat(e.file),l=this[`fileList${e.name}`].length;t.map(t=>{this[`fileList${e.name}`].push({...t,status:"uploading",message:"上传中"})});for(let a=0;a<t.length;a++){const s=await this.uploadFilePromise(t[a].url);let i=this[`fileList${e.name}`][l];this[`fileList${e.name}`].splice(l,1,Object.assign(i,{status:"success",message:"",url:s})),l++}},uploadFilePromise:e=>new Promise((t,l)=>{uni.uploadFile({url:"http://www.example.com/upload",filePath:e,name:"file",formData:{user:"test"},success:e=>{setTimeout(()=>{t(e.data.data)},1e3)}})})}},[["render",function(e,m,_,p,r,L){const R=f,h=s(o("up-upload"),i),b=a,g=c;return u(),t(b,{class:"u-page"},{default:l(()=>[d(b,{class:"u-demo-block"},{default:l(()=>[d(R,{class:"u-demo-block__title"},{default:l(()=>[n("基础用法")]),_:1}),d(b,{class:"u-demo-block__content"},{default:l(()=>[d(b,{class:"u-page__upload-item",style:{display:"flex"}},{default:l(()=>[d(h,{fileList:r.fileList1,useBeforeRead:"",onBeforeRead:L.beforeRead,onAfterRead:L.afterRead,onDelete:L.deletePic,name:"1",multiple:"",maxCount:10},null,8,["fileList","onBeforeRead","onAfterRead","onDelete"])]),_:1})]),_:1})]),_:1}),d(b,{class:"u-demo-block"},{default:l(()=>[d(R,{class:"u-demo-block__title"},{default:l(()=>[n("上传视频")]),_:1}),d(b,{class:"u-demo-block__content"},{default:l(()=>[d(b,{class:"u-page__upload-item"},{default:l(()=>[d(h,{fileList:r.fileList2,onAfterRead:L.afterRead,onDelete:L.deletePic,name:"2",multiple:"",maxCount:10,accept:"video"},null,8,["fileList","onAfterRead","onDelete"])]),_:1})]),_:1})]),_:1}),d(b,{class:"u-demo-block"},{default:l(()=>[d(R,{class:"u-demo-block__title"},{default:l(()=>[n("文件预览")]),_:1}),d(b,{class:"u-demo-block__content"},{default:l(()=>[d(b,{class:"u-page__upload-item"},{default:l(()=>[d(h,{fileList:r.fileList3,onAfterRead:L.afterRead,onDelete:L.deletePic,name:"3",multiple:"",maxCount:10,previewFullImage:!0},null,8,["fileList","onAfterRead","onDelete"])]),_:1})]),_:1})]),_:1}),d(b,{class:"u-demo-block"},{default:l(()=>[d(R,{class:"u-demo-block__title"},{default:l(()=>[n("隐藏上传按钮")]),_:1}),d(b,{class:"u-demo-block__content"},{default:l(()=>[d(b,{class:"u-page__upload-item"},{default:l(()=>[d(h,{fileList:r.fileList4,onAfterRead:L.afterRead,onDelete:L.deletePic,name:"4",multiple:"",maxCount:2},null,8,["fileList","onAfterRead","onDelete"])]),_:1})]),_:1})]),_:1}),d(b,{class:"u-demo-block"},{default:l(()=>[d(R,{class:"u-demo-block__title"},{default:l(()=>[n("限制上传数量")]),_:1}),d(b,{class:"u-demo-block__content"},{default:l(()=>[d(b,{class:"u-page__upload-item"},{default:l(()=>[d(h,{fileList:r.fileList5,onAfterRead:L.afterRead,onDelete:L.deletePic,name:"5",multiple:"",maxCount:3},null,8,["fileList","onAfterRead","onDelete"])]),_:1})]),_:1})]),_:1}),d(b,{class:"u-demo-block"},{default:l(()=>[d(R,{class:"u-demo-block__title"},{default:l(()=>[n("自定义上传样式")]),_:1}),d(b,{class:"u-demo-block__content"},{default:l(()=>[d(b,{class:"u-page__upload-item"},{default:l(()=>[d(h,{fileList:r.fileList6,onAfterRead:L.afterRead,onDelete:L.deletePic,name:"6",multiple:"",maxCount:1,width:"250",height:"150"},{default:l(()=>[d(g,{src:"https://cdn.uviewui.com/uview/demo/upload/positive.png",mode:"widthFix",style:{width:"250px",height:"150px"}})]),_:1},8,["fileList","onAfterRead","onDelete"])]),_:1})]),_:1})]),_:1})]),_:1})}],["__scopeId","data-v-9d1cef77"]]);export{m as default};
