(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{320:function(e,t,a){"use strict";a.r(t);var i=a(312),s=a.n(i),r={data:()=>({id:"",adDialog:!1,qrDialog:!1,qrUrl:"",watchEnd:!1,loadingInstance:null,timer:null}),created(){},mounted(){setTimeout(()=>{this.checkVip()},15e3),this.timer||(this.timer=setInterval(()=>{this.checkVip()},1e6))},methods:{checkVip(){if("undefined"!=typeof window&&window.localStorage){let e=localStorage.getItem("adExpire");(!e||Date.parse(new Date)/1e3>e||e-Date.parse(new Date)/1e3>43200)&&(this.qrDialog=!0,this.watchAd())}},openDialog(){this.qrDialog=!0},async watchAd(){try{s.a.post("https://uiadmin.net/api/v1/wxapp/ad/add").then(e=>{let t=e.data;200===t.code?(this.id=t.data.id,this.qrUrl=t.data.base64):this.$message.error("出错"+t.msg)})}catch(e){this.$message.error("请求出错")}},async checkEnd(){try{s.a.get("https://uiadmin.net/api/v1/wxapp/ad/check?id="+this.id).then(e=>{let t=e.data;200===t.code?(this.watchEnd=!0,localStorage.setItem("adExpire",Date.parse(new Date)/1e3+43200),this.qrDialog=!1):this.$message.error(t.msg)})}catch(e){this.$message.error("检查出错")}}},watch:{}},n=a(6),l=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("div",[t("el-dialog",{attrs:{title:"广告",visible:e.qrDialog,width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.qrDialog=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.checkEnd.apply(null,arguments)}}},[e._v("已经看完")])],1)]},proxy:!0}])},[t("div",[t("h3",[e._v("请使用微信扫码")]),e._v(" "),t("div",{staticClass:"mt-1"},[e._v("扫码后请点击“打开广告”蓝色按钮")]),e._v(" "),t("div",[e._v("\n        感谢对开源软件的支持与理解，现阶段观看广告将有助于uview-plus的可持续发展，特别是在鸿蒙、uni-app-x等方面的开发，我们也在积极探索更好的可持续发展模式，以投入更多的研发能力便于提供更加好用的框架。收集了大家的意见反馈我们正在规划推出社区发帖获得免广告点数，自媒体发短视频教程获得广告点数，提交FastView可视化模板送广告点数，提交项目线上案例送广告点数，帮助其它用户解决问题送广告点数等多种方法，希望能够适应不通的需求，并且能积极推动uview-plus发展。\n      ")]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:!e.qrUrl,expression:"qrUrl ? false : true"}],staticClass:"pt-3"},[e.qrUrl?t("img",{attrs:{src:e.qrUrl,alt:"mind"}}):e._e()])])])],1)}),[],!1,null,null,null);t.default=l.exports}}]);